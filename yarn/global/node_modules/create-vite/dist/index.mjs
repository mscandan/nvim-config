import R from"node:fs";import O from"node:path";import{fileURLToPath as Xt}from"node:url";import Qt from"child_process";import U from"path";import K from"fs";import ei from"readline";import ti from"events";var ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B={exports:{}},Z,ze;function ri(){if(ze)return Z;ze=1,Z=t,t.sync=l;var e=K;function o(a,r){var f=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!f||(f=f.split(";"),f.indexOf("")!==-1))return!0;for(var i=0;i<f.length;i++){var n=f[i].toLowerCase();if(n&&a.substr(-n.length).toLowerCase()===n)return!0}return!1}function c(a,r,f){return!a.isSymbolicLink()&&!a.isFile()?!1:o(r,f)}function t(a,r,f){e.stat(a,function(i,n){f(i,i?!1:c(n,a,r))})}function l(a,r){return c(e.statSync(a),a,r)}return Z}var X,Ue;function si(){if(Ue)return X;Ue=1,X=o,o.sync=c;var e=K;function o(a,r,f){e.stat(a,function(i,n){f(i,i?!1:t(n,r))})}function c(a,r){return t(e.statSync(a),r)}function t(a,r){return a.isFile()&&l(a,r)}function l(a,r){var f=a.mode,i=a.uid,n=a.gid,s=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),u=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),m=parseInt("100",8),h=parseInt("010",8),d=parseInt("001",8),p=m|h,v=f&d||f&h&&n===u||f&m&&i===s||f&p&&s===0;return v}return X}var Q,Ke;function ni(){if(Ke)return Q;Ke=1;var e;process.platform==="win32"||ii.TESTING_WINDOWS?e=ri():e=si(),Q=o,o.sync=c;function o(t,l,a){if(typeof l=="function"&&(a=l,l={}),!a){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,f){o(t,l||{},function(i,n){i?f(i):r(n)})})}e(t,l||{},function(r,f){r&&(r.code==="EACCES"||l&&l.ignoreErrors)&&(r=null,f=!1),a(r,f)})}function c(t,l){try{return e.sync(t,l||{})}catch(a){if(l&&l.ignoreErrors||a.code==="EACCES")return!1;throw a}}return Q}var ee,Ze;function oi(){if(Ze)return ee;Ze=1;const e=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",o=U,c=e?";":":",t=ni(),l=i=>Object.assign(new Error(`not found: ${i}`),{code:"ENOENT"}),a=(i,n)=>{const s=n.colon||c,u=i.match(/\//)||e&&i.match(/\\/)?[""]:[...e?[process.cwd()]:[],...(n.path||process.env.PATH||"").split(s)],m=e?n.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",h=e?m.split(s):[""];return e&&i.indexOf(".")!==-1&&h[0]!==""&&h.unshift(""),{pathEnv:u,pathExt:h,pathExtExe:m}},r=(i,n,s)=>{typeof n=="function"&&(s=n,n={}),n||(n={});const{pathEnv:u,pathExt:m,pathExtExe:h}=a(i,n),d=[],p=x=>new Promise((T,S)=>{if(x===u.length)return n.all&&d.length?T(d):S(l(i));const b=u[x],g=/^".*"$/.test(b)?b.slice(1,-1):b,y=o.join(g,i),w=!g&&/^\.[\\\/]/.test(i)?i.slice(0,2)+y:y;T(v(w,x,0))}),v=(x,T,S)=>new Promise((b,g)=>{if(S===m.length)return b(p(T+1));const y=m[S];t(x+y,{pathExt:h},(w,$)=>{if(!w&&$)if(n.all)d.push(x+y);else return b(x+y);return b(v(x,T,S+1))})});return s?p(0).then(x=>s(null,x),s):p(0)},f=(i,n)=>{n=n||{};const{pathEnv:s,pathExt:u,pathExtExe:m}=a(i,n),h=[];for(let d=0;d<s.length;d++){const p=s[d],v=/^".*"$/.test(p)?p.slice(1,-1):p,x=o.join(v,i),T=!v&&/^\.[\\\/]/.test(i)?i.slice(0,2)+x:x;for(let S=0;S<u.length;S++){const b=T+u[S];try{if(t.sync(b,{pathExt:m}))if(n.all)h.push(b);else return b}catch{}}}if(n.all&&h.length)return h;if(n.nothrow)return null;throw l(i)};return ee=r,r.sync=f,ee}var V={exports:{}},Xe;function ai(){if(Xe)return V.exports;Xe=1;const e=(o={})=>{const c=o.env||process.env;return(o.platform||process.platform)!=="win32"?"PATH":Object.keys(c).reverse().find(l=>l.toUpperCase()==="PATH")||"Path"};return V.exports=e,V.exports.default=e,V.exports}var te,Qe;function li(){if(Qe)return te;Qe=1;const e=U,o=oi(),c=ai();function t(a,r){const f=a.options.env||process.env,i=process.cwd(),n=a.options.cwd!=null,s=n&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(a.options.cwd)}catch{}let u;try{u=o.sync(a.command,{path:f[c({env:f})],pathExt:r?e.delimiter:void 0})}catch{}finally{s&&process.chdir(i)}return u&&(u=e.resolve(n?a.options.cwd:"",u)),u}function l(a){return t(a)||t(a,!0)}return te=l,te}var W={},et;function ui(){if(et)return W;et=1;const e=/([()\][%!^"`<>&|;, *?])/g;function o(t){return t=t.replace(e,"^$1"),t}function c(t,l){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(e,"^$1"),l&&(t=t.replace(e,"^$1")),t}return W.command=o,W.argument=c,W}var ie,tt;function hi(){return tt||(tt=1,ie=/^#!(.*)/),ie}var re,it;function ci(){if(it)return re;it=1;const e=hi();return re=(o="")=>{const c=o.match(e);if(!c)return null;const[t,l]=c[0].replace(/#! ?/,"").split(" "),a=t.split("/").pop();return a==="env"?l:l?`${a} ${l}`:a},re}var se,rt;function di(){if(rt)return se;rt=1;const e=K,o=ci();function c(t){const a=Buffer.alloc(150);let r;try{r=e.openSync(t,"r"),e.readSync(r,a,0,150,0),e.closeSync(r)}catch{}return o(a.toString())}return se=c,se}var ne,st;function fi(){if(st)return ne;st=1;const e=U,o=li(),c=ui(),t=di(),l=process.platform==="win32",a=/\.(?:com|exe)$/i,r=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function f(s){s.file=o(s);const u=s.file&&t(s.file);return u?(s.args.unshift(s.file),s.command=u,o(s)):s.file}function i(s){if(!l)return s;const u=f(s),m=!a.test(u);if(s.options.forceShell||m){const h=r.test(u);s.command=e.normalize(s.command),s.command=c.command(s.command),s.args=s.args.map(p=>c.argument(p,h));const d=[s.command].concat(s.args).join(" ");s.args=["/d","/s","/c",`"${d}"`],s.command=process.env.comspec||"cmd.exe",s.options.windowsVerbatimArguments=!0}return s}function n(s,u,m){u&&!Array.isArray(u)&&(m=u,u=null),u=u?u.slice(0):[],m=Object.assign({},m);const h={command:s,args:u,options:m,file:void 0,original:{command:s,args:u}};return m.shell?h:i(h)}return ne=n,ne}var oe,nt;function mi(){if(nt)return oe;nt=1;const e=process.platform==="win32";function o(a,r){return Object.assign(new Error(`${r} ${a.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${a.command}`,path:a.command,spawnargs:a.args})}function c(a,r){if(!e)return;const f=a.emit;a.emit=function(i,n){if(i==="exit"){const s=t(n,r);if(s)return f.call(a,"error",s)}return f.apply(a,arguments)}}function t(a,r){return e&&a===1&&!r.file?o(r.original,"spawn"):null}function l(a,r){return e&&a===1&&!r.file?o(r.original,"spawnSync"):null}return oe={hookChildProcess:c,verifyENOENT:t,verifyENOENTSync:l,notFoundError:o},oe}var ot;function pi(){if(ot)return B.exports;ot=1;const e=Qt,o=fi(),c=mi();function t(a,r,f){const i=o(a,r,f),n=e.spawn(i.command,i.args,i.options);return c.hookChildProcess(n,i),n}function l(a,r,f){const i=o(a,r,f),n=e.spawnSync(i.command,i.args,i.options);return n.error=n.error||c.verifyENOENTSync(n.status,i),n}return B.exports=t,B.exports.spawn=t,B.exports.sync=l,B.exports._parse=o,B.exports._enoent=c,B.exports}var gi=pi();const vi=H(gi);var ae,at;function bi(){if(at)return ae;at=1;function e(t,l){var a=t;l.slice(0,-1).forEach(function(f){a=a[f]||{}});var r=l[l.length-1];return r in a}function o(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function c(t,l){return l==="constructor"&&typeof t[l]=="function"||l==="__proto__"}return ae=function(t,l){l||(l={});var a={bools:{},strings:{},unknownFn:null};typeof l.unknown=="function"&&(a.unknownFn=l.unknown),typeof l.boolean=="boolean"&&l.boolean?a.allBools=!0:[].concat(l.boolean).filter(Boolean).forEach(function(w){a.bools[w]=!0});var r={};function f(w){return r[w].some(function($){return a.bools[$]})}Object.keys(l.alias||{}).forEach(function(w){r[w]=[].concat(l.alias[w]),r[w].forEach(function($){r[$]=[w].concat(r[w].filter(function(C){return $!==C}))})}),[].concat(l.string).filter(Boolean).forEach(function(w){a.strings[w]=!0,r[w]&&[].concat(r[w]).forEach(function($){a.strings[$]=!0})});var i=l.default||{},n={_:[]};function s(w,$){return a.allBools&&/^--[^=]+$/.test($)||a.strings[w]||a.bools[w]||r[w]}function u(w,$,C){for(var E=w,Y=0;Y<$.length-1;Y++){var D=$[Y];if(c(E,D))return;E[D]===void 0&&(E[D]={}),(E[D]===Object.prototype||E[D]===Number.prototype||E[D]===String.prototype)&&(E[D]={}),E[D]===Array.prototype&&(E[D]=[]),E=E[D]}var I=$[$.length-1];c(E,I)||((E===Object.prototype||E===Number.prototype||E===String.prototype)&&(E={}),E===Array.prototype&&(E=[]),E[I]===void 0||a.bools[I]||typeof E[I]=="boolean"?E[I]=C:Array.isArray(E[I])?E[I].push(C):E[I]=[E[I],C])}function m(w,$,C){if(!(C&&a.unknownFn&&!s(w,C)&&a.unknownFn(C)===!1)){var E=!a.strings[w]&&o($)?Number($):$;u(n,w.split("."),E),(r[w]||[]).forEach(function(Y){u(n,Y.split("."),E)})}}Object.keys(a.bools).forEach(function(w){m(w,i[w]===void 0?!1:i[w])});var h=[];t.indexOf("--")!==-1&&(h=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var d=0;d<t.length;d++){var p=t[d],v,x;if(/^--.+=/.test(p)){var T=p.match(/^--([^=]+)=([\s\S]*)$/);v=T[1];var S=T[2];a.bools[v]&&(S=S!=="false"),m(v,S,p)}else if(/^--no-.+/.test(p))v=p.match(/^--no-(.+)/)[1],m(v,!1,p);else if(/^--.+/.test(p))v=p.match(/^--(.+)/)[1],x=t[d+1],x!==void 0&&!/^(-|--)[^-]/.test(x)&&!a.bools[v]&&!a.allBools&&(!r[v]||!f(v))?(m(v,x,p),d+=1):/^(true|false)$/.test(x)?(m(v,x==="true",p),d+=1):m(v,a.strings[v]?"":!0,p);else if(/^-[^-]+/.test(p)){for(var b=p.slice(1,-1).split(""),g=!1,y=0;y<b.length;y++){if(x=p.slice(y+2),x==="-"){m(b[y],x,p);continue}if(/[A-Za-z]/.test(b[y])&&x[0]==="="){m(b[y],x.slice(1),p),g=!0;break}if(/[A-Za-z]/.test(b[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(x)){m(b[y],x,p),g=!0;break}if(b[y+1]&&b[y+1].match(/\W/)){m(b[y],p.slice(y+2),p),g=!0;break}else m(b[y],a.strings[b[y]]?"":!0,p)}v=p.slice(-1)[0],!g&&v!=="-"&&(t[d+1]&&!/^(-|--)[^-]/.test(t[d+1])&&!a.bools[v]&&(!r[v]||!f(v))?(m(v,t[d+1],p),d+=1):t[d+1]&&/^(true|false)$/.test(t[d+1])?(m(v,t[d+1]==="true",p),d+=1):m(v,a.strings[v]?"":!0,p))}else if((!a.unknownFn||a.unknownFn(p)!==!1)&&n._.push(a.strings._||!o(p)?p:Number(p)),l.stopEarly){n._.push.apply(n._,t.slice(d+1));break}}return Object.keys(i).forEach(function(w){e(n,w.split("."))||(u(n,w.split("."),i[w]),(r[w]||[]).forEach(function($){u(n,$.split("."),i[w])}))}),l["--"]?n["--"]=h.slice():h.forEach(function(w){n._.push(w)}),n},ae}var wi=bi();const yi=H(wi);var le={},ue,lt;function P(){if(lt)return ue;lt=1;const{FORCE_COLOR:e,NODE_DISABLE_COLORS:o,TERM:c}=process.env,t={enabled:!o&&c!=="dumb"&&e!=="0",reset:r(0,0),bold:r(1,22),dim:r(2,22),italic:r(3,23),underline:r(4,24),inverse:r(7,27),hidden:r(8,28),strikethrough:r(9,29),black:r(30,39),red:r(31,39),green:r(32,39),yellow:r(33,39),blue:r(34,39),magenta:r(35,39),cyan:r(36,39),white:r(37,39),gray:r(90,39),grey:r(90,39),bgBlack:r(40,49),bgRed:r(41,49),bgGreen:r(42,49),bgYellow:r(43,49),bgBlue:r(44,49),bgMagenta:r(45,49),bgCyan:r(46,49),bgWhite:r(47,49)};function l(f,i){let n=0,s,u="",m="";for(;n<f.length;n++)s=f[n],u+=s.open,m+=s.close,i.includes(s.close)&&(i=i.replace(s.rgx,s.close+s.open));return u+i+m}function a(f,i){let n={has:f,keys:i};return n.reset=t.reset.bind(n),n.bold=t.bold.bind(n),n.dim=t.dim.bind(n),n.italic=t.italic.bind(n),n.underline=t.underline.bind(n),n.inverse=t.inverse.bind(n),n.hidden=t.hidden.bind(n),n.strikethrough=t.strikethrough.bind(n),n.black=t.black.bind(n),n.red=t.red.bind(n),n.green=t.green.bind(n),n.yellow=t.yellow.bind(n),n.blue=t.blue.bind(n),n.magenta=t.magenta.bind(n),n.cyan=t.cyan.bind(n),n.white=t.white.bind(n),n.gray=t.gray.bind(n),n.grey=t.grey.bind(n),n.bgBlack=t.bgBlack.bind(n),n.bgRed=t.bgRed.bind(n),n.bgGreen=t.bgGreen.bind(n),n.bgYellow=t.bgYellow.bind(n),n.bgBlue=t.bgBlue.bind(n),n.bgMagenta=t.bgMagenta.bind(n),n.bgCyan=t.bgCyan.bind(n),n.bgWhite=t.bgWhite.bind(n),n}function r(f,i){let n={open:`\x1B[${f}m`,close:`\x1B[${i}m`,rgx:new RegExp(`\\x1b\\[${i}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(f)||(this.has.push(f),this.keys.push(n)),s===void 0?this:t.enabled?l(this.keys,s+""):s+""):s===void 0?a([f],[n]):t.enabled?l([n],s+""):s+""}}return ue=t,ue}var he,ut;function xi(){return ut||(ut=1,he=(e,o)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(o){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),he}var ce,ht;function de(){return ht||(ht=1,ce=e=>{const o=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),c=new RegExp(o,"g");return typeof e=="string"?e.replace(c,""):e}),ce}var fe,ct;function q(){if(ct)return fe;ct=1;const e="\x1B",o=`${e}[`,c="\x07",t={to(r,f){return f?`${o}${f+1};${r+1}H`:`${o}${r+1}G`},move(r,f){let i="";return r<0?i+=`${o}${-r}D`:r>0&&(i+=`${o}${r}C`),f<0?i+=`${o}${-f}A`:f>0&&(i+=`${o}${f}B`),i},up:(r=1)=>`${o}${r}A`,down:(r=1)=>`${o}${r}B`,forward:(r=1)=>`${o}${r}C`,backward:(r=1)=>`${o}${r}D`,nextLine:(r=1)=>`${o}E`.repeat(r),prevLine:(r=1)=>`${o}F`.repeat(r),left:`${o}G`,hide:`${o}?25l`,show:`${o}?25h`,save:`${e}7`,restore:`${e}8`},l={up:(r=1)=>`${o}S`.repeat(r),down:(r=1)=>`${o}T`.repeat(r)},a={screen:`${o}2J`,up:(r=1)=>`${o}1J`.repeat(r),down:(r=1)=>`${o}J`.repeat(r),line:`${o}2K`,lineEnd:`${o}K`,lineStart:`${o}1K`,lines(r){let f="";for(let i=0;i<r;i++)f+=this.line+(i<r-1?t.up():"");return r&&(f+=t.left),f}};return fe={cursor:t,scroll:l,erase:a,beep:c},fe}var me,dt;function Si(){if(dt)return me;dt=1;const e=de(),{erase:o,cursor:c}=q(),t=l=>[...e(l)].length;return me=function(l,a){if(!a)return o.line+c.to(0);let r=0;const f=l.split(/\r?\n/);for(let i of f)r+=1+Math.floor(Math.max(t(i)-1,0)/a);return o.lines(r)},me}var pe,ft;function mt(){if(ft)return pe;ft=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},o={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return pe=process.platform==="win32"?o:e,pe}var ge,pt;function $i(){if(pt)return ge;pt=1;const e=P(),o=mt(),c=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),t=i=>c[i]||c.default,l=Object.freeze({aborted:e.red(o.cross),done:e.green(o.tick),exited:e.yellow(o.cross),default:e.cyan("?")});return ge={styles:c,render:t,symbols:l,symbol:(i,n,s)=>n?l.aborted:s?l.exited:i?l.done:l.default,delimiter:i=>e.gray(i?o.ellipsis:o.pointerSmall),item:(i,n)=>e.gray(i?n?o.pointerSmall:"+":o.line)},ge}var ve,gt;function Ei(){if(gt)return ve;gt=1;const e=de();return ve=function(o,c){let t=String(e(o)||"").split(/\r?\n/);return c?t.map(l=>Math.ceil(l.length/c)).reduce((l,a)=>l+a):t.length},ve}var be,vt;function Ti(){return vt||(vt=1,be=(e,o={})=>{const c=Number.isSafeInteger(parseInt(o.margin))?new Array(parseInt(o.margin)).fill(" ").join(""):o.margin||"",t=o.width;return(e||"").split(/\r?\n/g).map(l=>l.split(/\s+/g).reduce((a,r)=>(r.length+c.length>=t||a[a.length-1].length+r.length+1<t?a[a.length-1]+=` ${r}`:a.push(`${c}${r}`),a),[c]).join(`
`)).join(`
`)}),be}var we,bt;function Ci(){return bt||(bt=1,we=(e,o,c)=>{c=c||o;let t=Math.min(o-c,e-Math.floor(c/2));t<0&&(t=0);let l=Math.min(t+c,o);return{startIndex:t,endIndex:l}}),we}var ye,wt;function _(){return wt||(wt=1,ye={action:xi(),clear:Si(),style:$i(),strip:de(),figures:mt(),lines:Ei(),wrap:Ti(),entriesToDisplay:Ci()}),ye}var xe,yt;function N(){if(yt)return xe;yt=1;const e=ei,{action:o}=_(),c=ti,{beep:t,cursor:l}=q(),a=P();class r extends c{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const n=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,n),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,u=(m,h)=>{let d=o(h,s);d===!1?this._&&this._(m,h):typeof this[d]=="function"?this[d](h):this.bell()};this.close=()=>{this.out.write(l.show),this.in.removeListener("keypress",u),this.in.isTTY&&this.in.setRawMode(!1),n.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",u)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(t)}render(){this.onRender(a),this.firstRender&&(this.firstRender=!1)}}return xe=r,xe}var Se,xt;function Ri(){if(xt)return Se;xt=1;const e=P(),o=N(),{erase:c,cursor:t}=q(),{style:l,clear:a,lines:r,figures:f}=_();class i extends o{constructor(s={}){super(s),this.transform=l.render(s.style),this.scale=this.transform.scale,this.msg=s.message,this.initial=s.initial||"",this.validator=s.validate||(()=>!0),this.value="",this.errorMsg=s.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=a("",this.out.columns),this.render()}set value(s){!s&&this.initial?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(s)),this._value=s,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let s=await this.validator(this.value);typeof s=="string"&&(this.errorMsg=s,s=!1),this.error=!s}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(s){this.placeholder||(this.cursor=this.cursor+s,this.cursorOffset+=s)}_(s,u){let m=this.value.slice(0,this.cursor),h=this.value.slice(this.cursor);this.value=`${m}${s}${h}`,this.red=!1,this.cursor=this.placeholder?0:m.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let s=this.value.slice(0,this.cursor-1),u=this.value.slice(this.cursor);this.value=`${s}${u}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let s=this.value.slice(0,this.cursor),u=this.value.slice(this.cursor+1);this.value=`${s}${u}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(t.down(r(this.outputError,this.out.columns)-1)+a(this.outputError,this.out.columns)),this.out.write(a(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),e.bold(this.msg),l.delimiter(this.done),this.red?e.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((s,u,m)=>s+`
${m?" ":f.pointerSmall} ${e.red().italic(u)}`,"")),this.out.write(c.line+t.to(0)+this.outputText+t.save+this.outputError+t.restore+t.move(this.cursorOffset,0)))}}return Se=i,Se}var $e,St;function Oi(){if(St)return $e;St=1;const e=P(),o=N(),{style:c,clear:t,figures:l,wrap:a,entriesToDisplay:r}=_(),{cursor:f}=q();class i extends o{constructor(s={}){super(s),this.msg=s.message,this.hint=s.hint||"- Use arrow-keys. Return to submit.",this.warn=s.warn||"- This option is disabled",this.cursor=s.initial||0,this.choices=s.choices.map((u,m)=>(typeof u=="string"&&(u={title:u,value:m}),{title:u&&(u.title||u.value||u),value:u&&(u.value===void 0?m:u.value),description:u&&u.description,selected:u&&u.selected,disabled:u&&u.disabled})),this.optionsPerPage=s.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=t("",this.out.columns),this.render()}moveCursor(s){this.cursor=s,this.value=this.choices[s].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(s,u){if(s===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(f.hide):this.out.write(t(this.outputText,this.out.columns)),super.render();let{startIndex:s,endIndex:u}=r(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let m=s;m<u;m++){let h,d,p="",v=this.choices[m];m===s&&s>0?d=l.arrowUp:m===u-1&&u<this.choices.length?d=l.arrowDown:d=" ",v.disabled?(h=this.cursor===m?e.gray().underline(v.title):e.strikethrough().gray(v.title),d=(this.cursor===m?e.bold().gray(l.pointer)+" ":"  ")+d):(h=this.cursor===m?e.cyan().underline(v.title):v.title,d=(this.cursor===m?e.cyan(l.pointer)+" ":"  ")+d,v.description&&this.cursor===m&&(p=` - ${v.description}`,(d.length+h.length+p.length>=this.out.columns||v.description.split(/\r?\n/).length>1)&&(p=`
`+a(v.description,{margin:3,width:this.out.columns})))),this.outputText+=`${d} ${h}${e.gray(p)}
`}}this.out.write(this.outputText)}}return $e=i,$e}var Ee,$t;function Mi(){if($t)return Ee;$t=1;const e=P(),o=N(),{style:c,clear:t}=_(),{cursor:l,erase:a}=q();class r extends o{constructor(i={}){super(i),this.msg=i.message,this.value=!!i.initial,this.active=i.active||"on",this.inactive=i.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(i,n){if(i===" ")this.value=!this.value;else if(i==="1")this.value=!0;else if(i==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(l.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(a.line+l.to(0)+this.outputText))}}return Ee=r,Ee}var Te,Et;function j(){if(Et)return Te;Et=1;class e{constructor({token:c,date:t,parts:l,locales:a}){this.token=c,this.date=t||new Date,this.parts=l||[this],this.locales=a||{}}up(){}down(){}next(){const c=this.parts.indexOf(this);return this.parts.find((t,l)=>l>c&&t instanceof e)}setTo(c){}prev(){let c=[].concat(this.parts).reverse();const t=c.indexOf(this);return c.find((l,a)=>a>t&&l instanceof e)}toString(){return String(this.date)}}return Te=e,Te}var Ce,Tt;function Pi(){if(Tt)return Ce;Tt=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return Ce=o,Ce}var Re,Ct;function qi(){if(Ct)return Re;Ct=1;const e=j(),o=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class c extends e{constructor(l={}){super(l)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(l){this.date.setDate(parseInt(l.substr(-2)))}toString(){let l=this.date.getDate(),a=this.date.getDay();return this.token==="DD"?String(l).padStart(2,"0"):this.token==="Do"?l+o(l):this.token==="d"?a+1:this.token==="ddd"?this.locales.weekdaysShort[a]:this.token==="dddd"?this.locales.weekdays[a]:l}}return Re=c,Re}var Oe,Rt;function Di(){if(Rt)return Oe;Rt=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return Oe=o,Oe}var Me,Ot;function _i(){if(Ot)return Me;Ot=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Me=o,Me}var Pe,Mt;function Ai(){if(Mt)return Pe;Mt=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return Pe=o,Pe}var qe,Pt;function Ii(){if(Pt)return qe;Pt=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),l=this.token.length;return l===2?String(t+1).padStart(2,"0"):l===3?this.locales.monthsShort[t]:l===4?this.locales.months[t]:String(t+1)}}return qe=o,qe}var De,qt;function ji(){if(qt)return De;qt=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return De=o,De}var _e,Dt;function Ni(){if(Dt)return _e;Dt=1;const e=j();class o extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return _e=o,_e}var Ae,_t;function Fi(){return _t||(_t=1,Ae={DatePart:j(),Meridiem:Pi(),Day:qi(),Hours:Di(),Milliseconds:_i(),Minutes:Ai(),Month:Ii(),Seconds:ji(),Year:Ni()}),Ae}var Ie,At;function Bi(){if(At)return Ie;At=1;const e=P(),o=N(),{style:c,clear:t,figures:l}=_(),{erase:a,cursor:r}=q(),{DatePart:f,Meridiem:i,Day:n,Hours:s,Milliseconds:u,Minutes:m,Month:h,Seconds:d,Year:p}=Fi(),v=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,x={1:({token:b})=>b.replace(/\\(.)/g,"$1"),2:b=>new n(b),3:b=>new h(b),4:b=>new p(b),5:b=>new i(b),6:b=>new s(b),7:b=>new m(b),8:b=>new d(b),9:b=>new u(b)},T={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class S extends o{constructor(g={}){super(g),this.msg=g.message,this.cursor=0,this.typed="",this.locales=Object.assign(T,g.locales),this._date=g.initial||new Date,this.errorMsg=g.error||"Please Enter A Valid Value",this.validator=g.validate||(()=>!0),this.mask=g.mask||"YYYY-MM-DD HH:mm:ss",this.clear=t("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(g){g&&this._date.setTime(g.getTime())}set mask(g){let y;for(this.parts=[];y=v.exec(g);){let $=y.shift(),C=y.findIndex(E=>E!=null);this.parts.push(C in x?x[C]({token:y[C]||$,date:this.date,parts:this.parts,locales:this.locales}):y[C]||$)}let w=this.parts.reduce(($,C)=>(typeof C=="string"&&typeof $[$.length-1]=="string"?$[$.length-1]+=C:$.push(C),$),[]);this.parts.splice(0),this.parts.push(...w),this.reset()}moveCursor(g){this.typed="",this.cursor=g,this.fire()}reset(){this.moveCursor(this.parts.findIndex(g=>g instanceof f)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let g=await this.validator(this.value);typeof g=="string"&&(this.errorMsg=g,g=!1),this.error=!g}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let g=this.parts[this.cursor].prev();if(g==null)return this.bell();this.moveCursor(this.parts.indexOf(g)),this.render()}right(){let g=this.parts[this.cursor].next();if(g==null)return this.bell();this.moveCursor(this.parts.indexOf(g)),this.render()}next(){let g=this.parts[this.cursor].next();this.moveCursor(g?this.parts.indexOf(g):this.parts.findIndex(y=>y instanceof f)),this.render()}_(g){/\d/.test(g)&&(this.typed+=g,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(!1),this.parts.reduce((g,y,w)=>g.concat(w===this.cursor&&!this.done?e.cyan().underline(y.toString()):y),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((g,y,w)=>g+`
${w?" ":l.pointerSmall} ${e.red().italic(y)}`,"")),this.out.write(a.line+r.to(0)+this.outputText))}}return Ie=S,Ie}var je,It;function ki(){if(It)return je;It=1;const e=P(),o=N(),{cursor:c,erase:t}=q(),{style:l,figures:a,clear:r,lines:f}=_(),i=/[0-9]/,n=m=>m!==void 0,s=(m,h)=>{let d=Math.pow(10,h);return Math.round(m*d)/d};class u extends o{constructor(h={}){super(h),this.transform=l.render(h.style),this.msg=h.message,this.initial=n(h.initial)?h.initial:"",this.float=!!h.float,this.round=h.round||2,this.inc=h.increment||1,this.min=n(h.min)?h.min:-1/0,this.max=n(h.max)?h.max:1/0,this.errorMsg=h.error||"Please Enter A Valid Value",this.validator=h.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(h){!h&&h!==0?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${s(h,this.round)}`),this._value=s(h,this.round)),this.fire()}get value(){return this._value}parse(h){return this.float?parseFloat(h):parseInt(h)}valid(h){return h==="-"||h==="."&&this.float||i.test(h)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let h=this.value;this.value=h!==""?h:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let h=await this.validator(this.value);typeof h=="string"&&(this.errorMsg=h,h=!1),this.error=!h}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let h=this.value;this.value=h!==""?h:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let h=this.value.toString();if(h.length===0)return this.bell();this.value=this.parse(h=h.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(h,d){if(!this.valid(h))return this.bell();const p=Date.now();if(p-this.lastHit>1e3&&(this.typed=""),this.typed+=h,this.lastHit=p,this.color="cyan",h===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(c.down(f(this.outputError,this.out.columns)-1)+r(this.outputError,this.out.columns)),this.out.write(r(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),e.bold(this.msg),l.delimiter(this.done),!this.done||!this.done&&!this.placeholder?e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((h,d,p)=>h+`
${p?" ":a.pointerSmall} ${e.red().italic(d)}`,"")),this.out.write(t.line+c.to(0)+this.outputText+c.save+this.outputError+c.restore))}}return je=u,je}var Ne,jt;function Nt(){if(jt)return Ne;jt=1;const e=P(),{cursor:o}=q(),c=N(),{clear:t,figures:l,style:a,wrap:r,entriesToDisplay:f}=_();class i extends c{constructor(s={}){super(s),this.msg=s.message,this.cursor=s.cursor||0,this.scrollIndex=s.cursor||0,this.hint=s.hint||"",this.warn=s.warn||"- This option is disabled -",this.minSelected=s.min,this.showMinError=!1,this.maxChoices=s.max,this.instructions=s.instructions,this.optionsPerPage=s.optionsPerPage||10,this.value=s.choices.map((u,m)=>(typeof u=="string"&&(u={title:u,value:m}),{title:u&&(u.title||u.value||u),description:u&&u.description,value:u&&(u.value===void 0?m:u.value),selected:u&&u.selected,disabled:u&&u.disabled})),this.clear=t("",this.out.columns),s.overrideRender||this.render()}reset(){this.value.map(s=>!s.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(s=>s.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const s=this.value.filter(u=>u.selected);this.minSelected&&s.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const s=this.value[this.cursor];if(s.selected)s.selected=!1,this.render();else{if(s.disabled||this.value.filter(u=>u.selected).length>=this.maxChoices)return this.bell();s.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const s=!this.value[this.cursor].selected;this.value.filter(u=>!u.disabled).forEach(u=>u.selected=s),this.render()}_(s,u){if(s===" ")this.handleSpaceToggle();else if(s==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${l.arrowUp}/${l.arrowDown}: Highlight option
    ${l.arrowLeft}/${l.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(s,u,m,h){const d=(u.selected?e.green(l.radioOn):l.radioOff)+" "+h+" ";let p,v;return u.disabled?p=s===m?e.gray().underline(u.title):e.strikethrough().gray(u.title):(p=s===m?e.cyan().underline(u.title):u.title,s===m&&u.description&&(v=` - ${u.description}`,(d.length+p.length+v.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(v=`
`+r(u.description,{margin:d.length,width:this.out.columns})))),d+p+e.gray(v||"")}paginateOptions(s){if(s.length===0)return e.red("No matches for this query.");let{startIndex:u,endIndex:m}=f(this.cursor,s.length,this.optionsPerPage),h,d=[];for(let p=u;p<m;p++)p===u&&u>0?h=l.arrowUp:p===m-1&&m<s.length?h=l.arrowDown:h=" ",d.push(this.renderOption(this.cursor,s[p],p,h));return`
`+d.join(`
`)}renderOptions(s){return this.done?"":this.paginateOptions(s)}renderDoneOrInstructions(){if(this.done)return this.value.filter(u=>u.selected).map(u=>u.title).join(", ");const s=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&s.push(e.yellow(this.warn)),s.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(o.hide),super.render();let s=[a.symbol(this.done,this.aborted),e.bold(this.msg),a.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(s+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),s+=this.renderOptions(this.value),this.out.write(this.clear+s),this.clear=t(s,this.out.columns)}}return Ne=i,Ne}var Fe,Ft;function Yi(){if(Ft)return Fe;Ft=1;const e=P(),o=N(),{erase:c,cursor:t}=q(),{style:l,clear:a,figures:r,wrap:f,entriesToDisplay:i}=_(),n=(h,d)=>h[d]&&(h[d].value||h[d].title||h[d]),s=(h,d)=>h[d]&&(h[d].title||h[d].value||h[d]),u=(h,d)=>{const p=h.findIndex(v=>v.value===d||v.title===d);return p>-1?p:void 0};class m extends o{constructor(d={}){super(d),this.msg=d.message,this.suggest=d.suggest,this.choices=d.choices,this.initial=typeof d.initial=="number"?d.initial:u(d.choices,d.initial),this.select=this.initial||d.cursor||0,this.i18n={noMatches:d.noMatches||"no matches found"},this.fallback=d.fallback||this.initial,this.clearFirst=d.clearFirst||!1,this.suggestions=[],this.input="",this.limit=d.limit||10,this.cursor=0,this.transform=l.render(d.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=a("",this.out.columns),this.complete(this.render),this.render()}set fallback(d){this._fb=Number.isSafeInteger(parseInt(d))?parseInt(d):d}get fallback(){let d;return typeof this._fb=="number"?d=this.choices[this._fb]:typeof this._fb=="string"&&(d={title:this._fb}),d||this._fb||{title:this.i18n.noMatches}}moveSelect(d){this.select=d,this.suggestions.length>0?this.value=n(this.suggestions,d):this.value=this.fallback.value,this.fire()}async complete(d){const p=this.completing=this.suggest(this.input,this.choices),v=await p;if(this.completing!==p)return;this.suggestions=v.map((T,S,b)=>({title:s(b,S),value:n(b,S),description:T.description})),this.completing=!1;const x=Math.max(v.length-1,0);this.moveSelect(Math.min(x,this.select)),d&&d()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(d,p){let v=this.input.slice(0,this.cursor),x=this.input.slice(this.cursor);this.input=`${v}${d}${x}`,this.cursor=v.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let d=this.input.slice(0,this.cursor-1),p=this.input.slice(this.cursor);this.input=`${d}${p}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let d=this.input.slice(0,this.cursor),p=this.input.slice(this.cursor+1);this.input=`${d}${p}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(d,p,v,x){let T,S=v?r.arrowUp:x?r.arrowDown:" ",b=p?e.cyan().underline(d.title):d.title;return S=(p?e.cyan(r.pointer)+" ":"  ")+S,d.description&&(T=` - ${d.description}`,(S.length+b.length+T.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(T=`
`+f(d.description,{margin:3,width:this.out.columns}))),S+" "+b+e.gray(T||"")}render(){if(this.closed)return;this.firstRender?this.out.write(t.hide):this.out.write(a(this.outputText,this.out.columns)),super.render();let{startIndex:d,endIndex:p}=i(this.select,this.choices.length,this.limit);if(this.outputText=[l.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),l.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const v=this.suggestions.slice(d,p).map((x,T)=>this.renderOption(x,this.select===T+d,T===0&&d>0,T+d===p-1&&p<this.choices.length)).join(`
`);this.outputText+=`
`+(v||e.gray(this.fallback.title))}this.out.write(c.line+t.to(0)+this.outputText)}}return Fe=m,Fe}var Be,Bt;function Li(){if(Bt)return Be;Bt=1;const e=P(),{cursor:o}=q(),c=Nt(),{clear:t,style:l,figures:a}=_();class r extends c{constructor(i={}){i.overrideRender=!0,super(i),this.inputValue="",this.clear=t("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const i=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const n=this.filteredOptions.findIndex(s=>s===i);this.cursor=n<0?0:n,this.render()}handleSpaceToggle(){const i=this.filteredOptions[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(n=>n.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}handleInputChange(i){this.inputValue=this.inputValue+i,this.updateFilteredOptions()}_(i,n){i===" "?this.handleSpaceToggle():this.handleInputChange(i)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${a.arrowUp}/${a.arrowDown}: Highlight option
    ${a.arrowLeft}/${a.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(i,n,s){let u;return n.disabled?u=i===s?e.gray().underline(n.title):e.strikethrough().gray(n.title):u=i===s?e.cyan().underline(n.title):n.title,(n.selected?e.green(a.radioOn):a.radioOff)+"  "+u}renderDoneOrInstructions(){if(this.done)return this.value.filter(n=>n.selected).map(n=>n.title).join(", ");const i=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&i.push(e.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(o.hide),super.render();let i=[l.symbol(this.done,this.aborted),e.bold(this.msg),l.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=t(i,this.out.columns)}}return Be=r,Be}var ke,kt;function Hi(){if(kt)return ke;kt=1;const e=P(),o=N(),{style:c,clear:t}=_(),{erase:l,cursor:a}=q();class r extends o{constructor(i={}){super(i),this.msg=i.message,this.value=i.initial,this.initialValue=!!i.initial,this.yesMsg=i.yes||"yes",this.yesOption=i.yesOption||"(Y/n)",this.noMsg=i.no||"no",this.noOption=i.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(i,n){return i.toLowerCase()==="y"?(this.value=!0,this.submit()):i.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[c.symbol(this.done,this.aborted),e.bold(this.msg),c.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(l.line+a.to(0)+this.outputText))}}return ke=r,ke}var Ye,Yt;function Vi(){return Yt||(Yt=1,Ye={TextPrompt:Ri(),SelectPrompt:Oi(),TogglePrompt:Mi(),DatePrompt:Bi(),NumberPrompt:ki(),MultiselectPrompt:Nt(),AutocompletePrompt:Yi(),AutocompleteMultiselectPrompt:Li(),ConfirmPrompt:Hi()}),Ye}var Lt;function Wi(){return Lt||(Lt=1,function(e){const o=e,c=Vi(),t=r=>r;function l(r,f,i={}){return new Promise((n,s)=>{const u=new c[r](f),m=i.onAbort||t,h=i.onSubmit||t,d=i.onExit||t;u.on("state",f.onState||t),u.on("submit",p=>n(h(p))),u.on("exit",p=>n(d(p))),u.on("abort",p=>s(m(p)))})}o.text=r=>l("TextPrompt",r),o.password=r=>(r.style="password",o.text(r)),o.invisible=r=>(r.style="invisible",o.text(r)),o.number=r=>l("NumberPrompt",r),o.date=r=>l("DatePrompt",r),o.confirm=r=>l("ConfirmPrompt",r),o.list=r=>{const f=r.separator||",";return l("TextPrompt",r,{onSubmit:i=>i.split(f).map(n=>n.trim())})},o.toggle=r=>l("TogglePrompt",r),o.select=r=>l("SelectPrompt",r),o.multiselect=r=>{r.choices=[].concat(r.choices||[]);const f=i=>i.filter(n=>n.selected).map(n=>n.value);return l("MultiselectPrompt",r,{onAbort:f,onSubmit:f})},o.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const f=i=>i.filter(n=>n.selected).map(n=>n.value);return l("AutocompleteMultiselectPrompt",r,{onAbort:f,onSubmit:f})};const a=(r,f)=>Promise.resolve(f.filter(i=>i.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));o.autocomplete=r=>(r.suggest=r.suggest||a,r.choices=[].concat(r.choices||[]),l("AutocompletePrompt",r))}(le)),le}var Le,Ht;function Gi(){if(Ht)return Le;Ht=1;const e=Wi(),o=["suggest","format","onState","validate","onRender","type"],c=()=>{};async function t(f=[],{onSubmit:i=c,onCancel:n=c}={}){const s={},u=t._override||{};f=[].concat(f);let m,h,d,p,v,x;const T=async(S,b,g=!1)=>{if(!(!g&&S.validate&&S.validate(b)!==!0))return S.format?await S.format(b,s):b};for(h of f)if({name:p,type:v}=h,typeof v=="function"&&(v=await v(m,{...s},h),h.type=v),!!v){for(let S in h){if(o.includes(S))continue;let b=h[S];h[S]=typeof b=="function"?await b(m,{...s},x):b}if(x=h,typeof h.message!="string")throw new Error("prompt message is required");if({name:p,type:v}=h,e[v]===void 0)throw new Error(`prompt type (${v}) is not defined`);if(u[h.name]!==void 0&&(m=await T(h,u[h.name]),m!==void 0)){s[p]=m;continue}try{m=t._injected?l(t._injected,h.initial):await e[v](h),s[p]=m=await T(h,m,!0),d=await i(h,m,s)}catch{d=!await n(h,s)}if(d)return s}return s}function l(f,i){const n=f.shift();if(n instanceof Error)throw n;return n===void 0?i:n}function a(f){t._injected=(t._injected||[]).concat(f)}function r(f){t._override=Object.assign({},f)}return Le=Object.assign(t,{prompt:t,prompts:e,inject:a,override:r}),Le}var Ji=Gi();const Vt=H(Ji);var G={exports:{}},Wt;function zi(){if(Wt)return G.exports;Wt=1;let e=process||{},o=e.argv||[],c=e.env||{},t=!(c.NO_COLOR||o.includes("--no-color"))&&(!!c.FORCE_COLOR||o.includes("--color")||e.platform==="win32"||(e.stdout||{}).isTTY&&c.TERM!=="dumb"||!!c.CI),l=(f,i,n=f)=>s=>{let u=""+s,m=u.indexOf(i,f.length);return~m?f+a(u,i,n,m)+i:f+u+i},a=(f,i,n,s)=>{let u="",m=0;do u+=f.substring(m,s)+n,m=s+i.length,s=f.indexOf(i,m);while(~s);return u+f.substring(m)},r=(f=t)=>{let i=f?l:()=>String;return{isColorSupported:f,reset:i("\x1B[0m","\x1B[0m"),bold:i("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:i("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:i("\x1B[3m","\x1B[23m"),underline:i("\x1B[4m","\x1B[24m"),inverse:i("\x1B[7m","\x1B[27m"),hidden:i("\x1B[8m","\x1B[28m"),strikethrough:i("\x1B[9m","\x1B[29m"),black:i("\x1B[30m","\x1B[39m"),red:i("\x1B[31m","\x1B[39m"),green:i("\x1B[32m","\x1B[39m"),yellow:i("\x1B[33m","\x1B[39m"),blue:i("\x1B[34m","\x1B[39m"),magenta:i("\x1B[35m","\x1B[39m"),cyan:i("\x1B[36m","\x1B[39m"),white:i("\x1B[37m","\x1B[39m"),gray:i("\x1B[90m","\x1B[39m"),bgBlack:i("\x1B[40m","\x1B[49m"),bgRed:i("\x1B[41m","\x1B[49m"),bgGreen:i("\x1B[42m","\x1B[49m"),bgYellow:i("\x1B[43m","\x1B[49m"),bgBlue:i("\x1B[44m","\x1B[49m"),bgMagenta:i("\x1B[45m","\x1B[49m"),bgCyan:i("\x1B[46m","\x1B[49m"),bgWhite:i("\x1B[47m","\x1B[49m"),blackBright:i("\x1B[90m","\x1B[39m"),redBright:i("\x1B[91m","\x1B[39m"),greenBright:i("\x1B[92m","\x1B[39m"),yellowBright:i("\x1B[93m","\x1B[39m"),blueBright:i("\x1B[94m","\x1B[39m"),magentaBright:i("\x1B[95m","\x1B[39m"),cyanBright:i("\x1B[96m","\x1B[39m"),whiteBright:i("\x1B[97m","\x1B[39m"),bgBlackBright:i("\x1B[100m","\x1B[49m"),bgRedBright:i("\x1B[101m","\x1B[49m"),bgGreenBright:i("\x1B[102m","\x1B[49m"),bgYellowBright:i("\x1B[103m","\x1B[49m"),bgBlueBright:i("\x1B[104m","\x1B[49m"),bgMagentaBright:i("\x1B[105m","\x1B[49m"),bgCyanBright:i("\x1B[106m","\x1B[49m"),bgWhiteBright:i("\x1B[107m","\x1B[49m")}};return G.exports=r(),G.exports.createColors=r,G.exports}var Ui=zi();const Ki=H(Ui),{blue:A,blueBright:J,cyan:z,green:He,greenBright:Zi,magenta:Ve,red:k,redBright:Gt,reset:F,yellow:M}=Ki,L=yi(process.argv.slice(2),{default:{help:!1},alias:{h:"help",t:"template"},string:["_"]}),We=process.cwd(),Xi=`Usage: create-vite [OPTION]... [DIRECTORY]

Create a new Vite project in JavaScript or TypeScript.
With no arguments, start the CLI in interactive mode.

Options:
  -t, --template NAME        use a specific template

Available templates:
${M("vanilla-ts     vanilla")}
${He("vue-ts         vue")}
${z("react-ts       react")}
${z("react-swc-ts   react-swc")}
${Ve("preact-ts      preact")}
${Gt("lit-ts         lit")}
${k("svelte-ts      svelte")}
${A("solid-ts       solid")}
${J("qwik-ts        qwik")}`,Ge=[{name:"vanilla",display:"Vanilla",color:M,variants:[{name:"vanilla-ts",display:"TypeScript",color:A},{name:"vanilla",display:"JavaScript",color:M}]},{name:"vue",display:"Vue",color:He,variants:[{name:"vue-ts",display:"TypeScript",color:A},{name:"vue",display:"JavaScript",color:M},{name:"custom-create-vue",display:"Customize with create-vue \u2197",color:He,customCommand:"npm create vue@latest TARGET_DIR"},{name:"custom-nuxt",display:"Nuxt \u2197",color:Zi,customCommand:"npm exec nuxi init TARGET_DIR"}]},{name:"react",display:"React",color:z,variants:[{name:"react-ts",display:"TypeScript",color:A},{name:"react-swc-ts",display:"TypeScript + SWC",color:A},{name:"react",display:"JavaScript",color:M},{name:"react-swc",display:"JavaScript + SWC",color:M},{name:"custom-remix",display:"Remix \u2197",color:z,customCommand:"npm create remix@latest TARGET_DIR"}]},{name:"preact",display:"Preact",color:Ve,variants:[{name:"preact-ts",display:"TypeScript",color:A},{name:"preact",display:"JavaScript",color:M},{name:"custom-create-preact",display:"Customize with create-preact \u2197",color:Ve,customCommand:"npm create preact@latest TARGET_DIR"}]},{name:"lit",display:"Lit",color:Gt,variants:[{name:"lit-ts",display:"TypeScript",color:A},{name:"lit",display:"JavaScript",color:M}]},{name:"svelte",display:"Svelte",color:k,variants:[{name:"svelte-ts",display:"TypeScript",color:A},{name:"svelte",display:"JavaScript",color:M},{name:"custom-svelte-kit",display:"SvelteKit \u2197",color:k,customCommand:"npm exec sv create TARGET_DIR"}]},{name:"solid",display:"Solid",color:A,variants:[{name:"solid-ts",display:"TypeScript",color:A},{name:"solid",display:"JavaScript",color:M}]},{name:"qwik",display:"Qwik",color:J,variants:[{name:"qwik-ts",display:"TypeScript",color:J},{name:"qwik",display:"JavaScript",color:M},{name:"custom-qwik-city",display:"QwikCity \u2197",color:J,customCommand:"npm create qwik@latest basic TARGET_DIR"}]},{name:"angular",display:"Angular",color:k,variants:[{name:"custom-angular",display:"Angular \u2197",color:k,customCommand:"npm exec @angular/cli@latest new TARGET_DIR"},{name:"custom-analog",display:"Analog \u2197",color:M,customCommand:"npm create analog@latest TARGET_DIR"}]},{name:"others",display:"Others",color:F,variants:[{name:"create-vite-extra",display:"create-vite-extra \u2197",color:F,customCommand:"npm create vite-extra@latest TARGET_DIR"},{name:"create-electron-vite",display:"create-electron-vite \u2197",color:F,customCommand:"npm create electron-vite@latest TARGET_DIR"}]}],Jt=Ge.map(e=>e.variants&&e.variants.map(o=>o.name)||[e.name]).reduce((e,o)=>e.concat(o),[]),Qi={_gitignore:".gitignore"},Je="vite-project";async function er(){const e=zt(L._[0]),o=L.template||L.t;if(L.help){console.log(Xi);return}let c=e||Je;const t=()=>c==="."?O.basename(O.resolve()):c;let l;Vt.override({overwrite:L.overwrite});try{l=await Vt([{type:e?null:"text",name:"projectName",message:F("Project name:"),initial:Je,onState:g=>{c=zt(g.value)||Je}},{type:()=>!R.existsSync(c)||rr(c)?null:"select",name:"overwrite",message:()=>(c==="."?"Current directory":`Target directory "${c}"`)+" is not empty. Please choose how to proceed:",initial:0,choices:[{title:"Remove existing files and continue",value:"yes"},{title:"Cancel operation",value:"no"},{title:"Ignore files and continue",value:"ignore"}]},{type:(g,{overwrite:y})=>{if(y==="no")throw new Error(k("\u2716")+" Operation cancelled");return null},name:"overwriteChecker"},{type:()=>Kt(t())?null:"text",name:"packageName",message:F("Package name:"),initial:()=>tr(t()),validate:g=>Kt(g)||"Invalid package.json name"},{type:o&&Jt.includes(o)?null:"select",name:"framework",message:typeof o=="string"&&!Jt.includes(o)?F(`"${o}" isn't a valid template. Please choose from below: `):F("Select a framework:"),initial:0,choices:Ge.map(g=>{const y=g.color;return{title:y(g.display||g.name),value:g}})},{type:g=>g&&g.variants?"select":null,name:"variant",message:F("Select a variant:"),choices:g=>g.variants.map(y=>{const w=y.color;return{title:w(y.display||y.name),value:y.name}})}],{onCancel:()=>{throw new Error(k("\u2716")+" Operation cancelled")}})}catch(g){console.log(g.message);return}const{framework:a,overwrite:r,packageName:f,variant:i}=l,n=O.join(We,c);r==="yes"?sr(n):R.existsSync(n)||R.mkdirSync(n,{recursive:!0});let s=i||a?.name||o,u=!1;s.includes("-swc")&&(u=!0,s=s.replace("-swc",""));const m=nr(process.env.npm_config_user_agent),h=m?m.name:"npm",d=h==="yarn"&&m?.version.startsWith("1."),{customCommand:p}=Ge.flatMap(g=>g.variants).find(g=>g.name===s)??{};if(p){const g=p.replace(/^npm create /,()=>h==="bun"?"bun x create-":`${h} create `).replace("@latest",()=>d?"":"@latest").replace(/^npm exec/,()=>h==="pnpm"?"pnpm dlx":h==="yarn"&&!d?"yarn dlx":h==="bun"?"bun x":"npm exec"),[y,...w]=g.split(" "),$=w.map(E=>E.replace("TARGET_DIR",()=>c)),{status:C}=vi.sync(y,$,{stdio:"inherit"});process.exit(C??0)}console.log(`
Scaffolding project in ${n}...`);const v=O.resolve(Xt(import.meta.url),"../..",`template-${s}`),x=(g,y)=>{const w=O.join(n,Qi[g]??g);y?R.writeFileSync(w,y):Ut(O.join(v,g),w)},T=R.readdirSync(v);for(const g of T.filter(y=>y!=="package.json"))x(g);const S=JSON.parse(R.readFileSync(O.join(v,"package.json"),"utf-8"));S.name=f||t(),x("package.json",JSON.stringify(S,null,2)+`
`),u&&or(n,s.endsWith("-ts"));const b=O.relative(We,n);switch(console.log(`
Done. Now run:
`),n!==We&&console.log(`  cd ${b.includes(" ")?`"${b}"`:b}`),h){case"yarn":console.log("  yarn"),console.log("  yarn dev");break;default:console.log(`  ${h} install`),console.log(`  ${h} run dev`);break}console.log()}function zt(e){return e?.trim().replace(/\/+$/g,"")}function Ut(e,o){R.statSync(e).isDirectory()?ir(e,o):R.copyFileSync(e,o)}function Kt(e){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(e)}function tr(e){return e.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z\d\-~]+/g,"-")}function ir(e,o){R.mkdirSync(o,{recursive:!0});for(const c of R.readdirSync(e)){const t=O.resolve(e,c),l=O.resolve(o,c);Ut(t,l)}}function rr(e){const o=R.readdirSync(e);return o.length===0||o.length===1&&o[0]===".git"}function sr(e){if(R.existsSync(e))for(const o of R.readdirSync(e))o!==".git"&&R.rmSync(O.resolve(e,o),{recursive:!0,force:!0})}function nr(e){if(!e)return;const o=e.split(" ")[0].split("/");return{name:o[0],version:o[1]}}function or(e,o){Zt(O.resolve(e,"package.json"),c=>c.replace(/"@vitejs\/plugin-react": ".+?"/,'"@vitejs/plugin-react-swc": "^3.5.0"')),Zt(O.resolve(e,`vite.config.${o?"ts":"js"}`),c=>c.replace("@vitejs/plugin-react","@vitejs/plugin-react-swc"))}function Zt(e,o){const c=R.readFileSync(e,"utf-8");R.writeFileSync(e,o(c),"utf-8")}er().catch(e=>{console.error(e)});
